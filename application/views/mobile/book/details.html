<back>
  <a href="#!/mobile/livros">
    <i class="material-icons waves-effect waves-light waves-circle white-text">arrow_back</i>
  </a>
</back>

<div class="loading-transition-right-to-center">
  <div class="row">
    <div class="container">
      <div class="col s12">
        <div class="card">
          <div class="card-image">
            <img ng-src="upload/books/{{book.cover}}" alt="">
          </div>
          <div class="card-content">
            <h5>{{ book.name | name }}</h5>
            <p>
              {{ book.synopsis }}
            </p>

            <h5 ng-show="book.authors.length <= 1">Autor(a)</h5>
            <h5 ng-show="book.authors.length > 1">Autores(as)</h5>
            <p ng-repeat="author in book.authors">{{ author.name | name }}</p>

            <h5>Páginas</h5>
            <p>{{ book.pages }} páginas</p>

            <h5>Editora</h5>
            <p>{{ book.publishingCompany.name | name }}</p>

            <h5>Data de publicação</h5>
            <p>{{ book.publishDate | date:'dd/MM/yyyy' }}</p>

            <h5>Edição</h5>
            <p>{{ book.edition }}</p>

            <h5>Categoria</h5>
            <p ng-repeat="category in book.categories">{{ category.name | name }}</p>


            <h5>Disponível em</h5>
            <div class="row">
              <form name="formLoan" class="col s12" ng-submit="makeLoan(loan)" novalidate>
                <div class="row">
                  <div class="input-field col s12">
                    <select name="library" ng-model="loan.library" ng-options="library.name + ' - ' + library.address.City.name | name for library in book.libraries" ng-required="true">
                      <option value="" disabled selected>Selecione uma biblioteca</option>
                    </select>
                    <div ng-messages="formLoan.library.$error" ng-if="formLoan.$submitted">
                      <span class="red-text" ng-message="required">Selecione uma biblioteca</span>
                    </div>
                  </div>
                </div>

                <div class="row">
                  <button class="waves-effect waves-light btn red accent-4" style="width:100%" type="submit" name="btnLoan" ng-disabled="btnLoan.disabled">Solicitar empréstimo</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
